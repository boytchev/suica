<!DOCTYPE html>
<html lang="en">

<head>
	<title>Tube explicit spline</title>
	<script src="example.js"></script>
	<script src="suica.js"></script>
</head>

<body>

	<h1>Tube explicit spline</h1>
	<p>Defining a spline tube with explicit radius curve.</p>

	<suica>
		<demo>
	</suica>

	<script>
	
		var splineCurve = spline(
			[[ -20, -20, -20 ],
				[ -20, -20, 20 ],
				[ -20, 20, 20 ],
				[ -20, 20, -20 ],
				[ 20, 20, -20 ],
				[ 20, 20, 20 ],
				[ 20, -20, 20 ],
				[ 20, -20, -20 ]],
			true
		);
		
		function curve( u )
		{
			var p = splineCurve( u );
			p[ 3 ] = 0.2+1.5*Math.round( 0.5+0.5*Math.cos( 30*Math.PI*u ) );
		
			return p;
		}
		
		tube([ 0, 0, 0 ], curve, 1, [ 300, 16 ]);

	</script>
	
</body>
</html>