<!DOCTYPE html>
<html lang="en">

<head>
	<title>Suica 2.0 Test</title>
	<meta charset="utf-8">

	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	
	<script src="suica.js"></script>
	
	<style>
		suica {
			border: solid 1px black;
			background: lightgray;
			width: 30em;
			height: 30em;
		}
	</style>
</head>

<body>
	<h1>Test</h1>

	<suica id="one"></suica>
	<script>

		var canvas = document.createElement('canvas');
			canvas.width = canvas.height = 32;
		var context = canvas.getContext('2d');
			context.strokeStyle = 'white';
			context.lineWidth = 8;
			context.clearRect(0,0,32,32);
			context.beginPath( );
				context.moveTo( 0, 0 );
				context.lineTo( 32,32 );
				context.moveTo( 0, 32 );
				context.lineTo( 32, 0 );
			context.stroke( );
		var image = new THREE.CanvasTexture( canvas );
	
		oxyz( );
		
		for( var i=0; i<100; i++ )
		{
			var p = one.point( [Math.random()*60-30,Math.random()*60-30,Math.random()*60-30] );
			p.color = Math.random()>0.5?'red':'yellow';
			p.size = Math.random()>0.5?6:12;
			
			p.material.map = image;
		}
		
		onTime(function ( t, dt )
		{
			one.scene.rotation.set(t,t/2,0);
		});
	</script>


	<suica id="two" style="background: lime; width:20em;">
		<oxyz>
		<demo>
		<ontime src="loopa">
		<point id="qaa" center="0.2,0.2,0.2" color="white" size="30">
	</suica>
	
	<script>
		qaa.color = [1,0.5,0];
		
		function loopa( t, dt )
		{
			qaa.x = 30*Math.sin(t);
			qaa.visible = (t%1)<0.5;
		}
	</script>
</body>
</html>