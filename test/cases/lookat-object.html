<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
	<script src="../test.js"></script>
</head>

<body>
	<suica ontime="loop">
		<sphere id="target" size="10" color="seagreen">
		<sphere id="zone" size="120" hidden>
	</suica>

	<script>
		var n=100,
			cones = [],
			colors = ['dimgray','linen','lightsalmon','peachpuff','gray','white','black'];

		for( var i=0; i<n; i++ )
			cones.push( pyramid( 6, randomOn(zone), [7,20], random(colors) ) );
	
	
		
		function loop( t, dT )
		{
			target.center = [90*Math.sin(1.3*t+1),20*Math.sin(2*t-6),20*Math.sin(3*t+3)]; 

			for( var cone of cones )
			{
				cone.lookAt( target );
			}
		}
	</script>
</body>
</html>